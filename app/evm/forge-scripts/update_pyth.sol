// SPDX-License-Identifier: Apache 2

pragma solidity ^0.8.0;

import "forge-std/Script.sol";
import "forge-std/console.sol";

import "@pythnetwork/pyth-sdk-solidity/IPyth.sol";
import "@pythnetwork/pyth-sdk-solidity/PythStructs.sol";

contract ContractScript is Script {
    IPyth pyth;

    function setUp() public {
        pyth = IPyth(vm.envAddress("PYTH_ADDRESS"));
    }

    function deployHelloWorld() public {
        bytes[] memory updateData = new bytes[](2);
        updateData[0] = hex"504e41550100000003b801000000040d000d50e022a161efa6a7a9dacad28d9a315d16b64cadac1f429e11fcb6b1f6bd0040c942d6f232e72b162935566f0fed683f53cf2119c4a9b594c2ff21c6f798690103bf02d5d491a76ac9d95138e4916be8311a838fe975e7b643ad8d76e769b8be1d1dc32dc73a98cdaaf8ea4fb70cf15af5f060357e6291fec95f2d8ecf5adc2f1000067d50a2bcb24d8b2cfd1d0304d261f03b8e3e5b60bf788530a56ca4ff3ec9f8482b475d8901a0d56b7cfc3b20b322b751005e74d4c29ef93d44f9e0259c5361e80008e4fcecf871182e6fd5d6c4cd7040a23199e0ff1ee35777aa7624f1b020b9ce0c5631d4cdb1a5941830eb0884d52d25f2302e4bb1a532de1254d69a3520353ff201090c31a31adb3c69cb013f735cceff6835b01d08c644107f99f84aba23ba7b8818499d18e0fc3ad8e5605683cc6bf97d6c16bf296f1cf36636d95656e5fc15fa44010a1253a0d3db712c40e874ff32f655a03b59eb04cb6bf0a1a5b4eff8a6fb37e2c25d0f55eeb210277b0d8c6f6fd8a9c3e8d38cacff459ceb74c41c52d78add144d000bef5f19f67bd1a69c9f69e2aa829efb01ce840467ab60fc8d6171e3ca3c9d83a66c5cd5f1df10f9fcad2d5b990b75efc433135529c5d0147e855f5ce7d827c798010c59defe4fe2cb8cd371e21632a323973f0f70a1144ae22ecd795ded53f8e905076b3cd8f4912a7bd091cbffe3f3c80de51c7b78ced05645d83af2db82d3e494ba000dac4a42f723ec27b8aa967275a58164b9503328c5073baa981069b74419206af373b5fa861e1f2cbf99a7a201dfd99470765ffabdbe4f5b4b51426965dbd36ae6000ed5af8076a940474ba17ed06de3b18c6a55dce2fe78c0e599d1f991c841f8fbca68e633c7601d31e76bd9f5e7b2e53d66ef8e4592f5ed823f8ee140e7249a42a4010f9ce0089591359717d09e759d93a1e29142092701393c2c8eb3461080b7e3141365209d934f441d5f5c8af1586c751a904087ec67f46180f344aa4e946393377301105d7b360313778358510c822a5ab9d9b1adfeaa610e28ab0e56e1536b93be178670664be3db7fcca10057cccf1c99e75d9309cc4da4f9b7aaa668621f6ccdceb800115f96af186b51d9969bea37c1fe7391c09514ffc34b2ff72e5fcc67e3b0bf8508684a48490ed23b05aa34fcd86076599c483deda8a9c7d203afeebf75144b07d101680edee000000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa710000000007aa7ece014155575600000000000cb7fc9000002710b0181cbea3935959c43bf95a1e257cac055ce33801005500ff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace000000291269cd6900000000070d34cffffffff800000000680edee000000000680edee000000029565f825800000000071929cc0cf3081a48c8f9744a10257400d3f549409fe08ce9616f441471f894a4bd773751fe2d4cd08047996d5d75b4ea36e6f3c5ec8f954bba05cd8e42adc9ab590902d0832c144aaf6b0e622681692eb83cd2d1b90e213ea3c2f329bb1cc0c5b776d0051fb54846b598594f1637bad733f614532d1a56f25e2a246dde95e0b0f5b5ce33f5096dabc28b9007e1fbb7888957234ac00aee82f7c8703d7971ae31b193409a5bbbf3a15beaa1e45a9eaf5c54916f5bf3f0976fdbfdfd07d20277276722ca80b5951d70e1e6fc6d8f28f5ec6d77510df671e1c772440fb763f4b65517818c7f9410f734e99dff3f1493283f38626d40";
        updateData[1] = hex"504e41550100000003b801000000040d008f23c155937749e1675d69f1fd4aee34719221e56a729bcd5a0010030729ee4c4f5a708279832c2d55a5a2624623a445391aa4cba8e7bd8c88a0d98661612c710101e15f7fa66843c201c0fa331375326df671eb5264b1961ead86440999bf4b6364692ba521a9fa64daf74a8139b43d1ecfb4e1f49b90e1c3d0a0c062dc2e6a70c6010244088e5ca0010c5df97f928b1a1af08f9251ba355d36ad02158ac81ff2d8b1ec116024a01b0d37427c0a593c0803b32670b80d538487b433f68b5f3c6cb4b09b00033e0714470ffc1fbebc1580e461babb39c0a7ca01117adfef1015aa65e25762317841c6c5c6eb1396d0e67c232c4390fcc35b9176dc369bb45a25d5664258f8480106d2d0165d553fa7b9afd2153552dfa8bc0520f9059a87061908baa39ae09e6a2b7fca24064b0383ead01100631998a1d3d50a85fb60872d0a0ab94fe63e28f1340008ef6bd3473b9e8400645b821c90ae195c4848e8444174037e598cd220e41b40927bbc7f08c1a0d503998982809f7b283db5277f0a0a49e1eef34215b38d1cd43a000a993ba1da84d5dd4c6ac6338e5a141412866d386ce7d756b507d41a13917f1fcc0bee2293a99c37c4e86000479b33316f376aaf69b362e9d9d4cec33d9e43c4e5010b80c614c582e65ea9650ed72b8b798268da5ef0982db960c7b0d0f79fc743d4ee646bded15d79eefd8845e89e4ac8ec2f6cc80a07debc483adf68fa18e643c4c1010cf6b4cc1c08842e7cf7eede96ebaf7bd91133ec11fd2277921d6ff29bdc3bd4ed310881651bd3e840123b5f68f1351528527cb4a9fe464a2d7d009ce980b20881000d6858191eb7f7754ae75a7680afcac0f235661f4d933297b90787887ee2c60a7625061b99a640b654b3e9795287009831625c647982e8a1af60878a2beff8423a000ef64a61e593912210a1b5d68410e3e288289e9928d708a07720d48d215ad46e402dbf156bb317490819a52344b2b72b17268ef583175b51342c782ea26249fcfe000f535a3204cf0ed82975d1ef01f210194a42c25c0aa923744d7fac4426c2e633b7796b5a4dce2bea3d06882591d087fc3cb720183d8a2cbd45e05e31df60f73763001138cc24dc6545f101c0e8677463e5505a375c1b5c0b403facf5101ce32565eb4c34c5fe1e368a76dd5f9f1218e72478a1f7ef1b5a1b3d93343ec0c256ad163fb500680eddc000000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa710000000007aa7c0f014155575600000000000cb7f9d100002710c2fbc01feb83cf124bb501e9c9b846fe4d450b0e01005500eba0732395fae9dec4bae12e52760b35fc1c5671e2da8b449c9af4efe5d543410000000003be05e80000000000015334fffffff800000000680eddc000000000680eddc00000000003bbb2d80000000000017f830c5bf61306ae090b04d79bb0147915ab03f0e0b1119c94bf8a082fa8d4a4b34739b0377d1a90068cc1fc365eb90c666df2e684826b5e485f1d243f9fc7bcb6b70cf4f0955189eb7e863c16b9f0cbbfa236ea48530ff3e340d64851cb521dc692820e8d5853c2716f51019eb0e62f5264fa86af43cb07cce29d6c8b055d1b433974bb3c727195af3fa1ad9a35db4be03b453e74d12f761bce0dd5a47307b4a19219b2ca92b8f615b035e0812d3170cabc2898f1b5314bab44cb4a1386b59cf65bb04be241f47de60e972cbe640bf16359c42151dfcde6935df3806431332530804877eba5fe26f5d61400d3568e456e6178";
        uint fee = 10 /* <fee> */;
        pyth.updatePriceFeeds{value: fee}(updateData);
    }

    function run() public {
        // begin sending transactions
        vm.startBroadcast();

        // HelloWorld.sol
        deployHelloWorld();

        // finished
        vm.stopBroadcast();
    }
}
